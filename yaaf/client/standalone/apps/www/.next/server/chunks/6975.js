"use strict";exports.id=6975,exports.ids=[6975,8025,2740,2626],exports.modules={7272:(e,a,t)=>{t.d(a,{K:()=>s});async function s(e){let a=new File([e],"recording.webm",{type:"audio/webm"}),t=new FormData;t.append("audio",a);let s=await fetch("/api/transcribe",{method:"POST",body:t});if(!s.ok)throw Error((await s.json()).error||"Failed to transcribe audio");return(await s.json()).text}},6975:(e,a,t)=>{t.r(a),t.d(a,{default:()=>N});var s=t(326),l=t(7577),n=t(7874),r=t(7863),i=t(7272),o=t(8025),d=t(8105),c=t(5613),m=t(5258),u=t(5907);let f=d.fC;d.ZA;let p=d.B4,h=l.forwardRef(({className:e,children:a,...t},l)=>(0,s.jsxs)(d.xz,{ref:l,className:(0,r.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[placeholder]:text-muted-foreground [&>span]:line-clamp-1",e),...t,children:[a,s.jsx(d.JO,{asChild:!0,children:s.jsx(c.Z,{className:"h-4 w-4 opacity-50"})})]}));h.displayName=d.xz.displayName;let x=l.forwardRef(({className:e,...a},t)=>s.jsx(d.u_,{ref:t,className:(0,r.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:s.jsx(m.Z,{className:"h-4 w-4"})}));x.displayName=d.u_.displayName;let g=l.forwardRef(({className:e,...a},t)=>s.jsx(d.$G,{ref:t,className:(0,r.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:s.jsx(c.Z,{className:"h-4 w-4"})}));g.displayName=d.$G.displayName;let j=l.forwardRef(({className:e,children:a,position:t="popper",...l},n)=>s.jsx(d.h_,{children:(0,s.jsxs)(d.VY,{ref:n,className:(0,r.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...l,children:[s.jsx(x,{}),s.jsx(d.l_,{className:(0,r.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),s.jsx(g,{})]})}));j.displayName=d.VY.displayName,l.forwardRef(({className:e,...a},t)=>s.jsx(d.__,{ref:t,className:(0,r.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName=d.__.displayName;let w=l.forwardRef(({className:e,children:a,...t},l)=>(0,s.jsxs)(d.ck,{ref:l,className:(0,r.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(d.wU,{children:s.jsx(u.Z,{className:"h-4 w-4"})})}),s.jsx(d.eT,{children:a})]}));w.displayName=d.ck.displayName,l.forwardRef(({className:e,...a},t)=>s.jsx(d.Z0,{ref:t,className:(0,r.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=d.Z0.displayName;let y=[{id:"llama-3.3-70b-versatile",name:"Llama 3.3 70B"},{id:"deepseek-r1-distill-llama-70b",name:"Deepseek R1 70B"}];function N(e){let[a,t]=(0,l.useState)(y[0].id),{messages:d,input:c,handleInputChange:m,handleSubmit:u,append:x,stop:g,isLoading:N,setMessages:b}=(0,n.RJ)({...e,api:"/api/chat",body:{model:a}});return(0,s.jsxs)("div",{className:(0,r.cn)("flex","flex-col","h-full m-10","w-full"),children:[s.jsx("div",{className:(0,r.cn)("flex","justify-end","mb-2"),children:(0,s.jsxs)(f,{value:a,onValueChange:t,children:[s.jsx(h,{className:"w-[180px]",children:s.jsx(p,{placeholder:"Select Model"})}),s.jsx(j,{children:y.map(e=>s.jsx(w,{value:e.id,children:e.name},e.id))})]})}),s.jsx(o.Chat,{className:"grow",messages:d,handleSubmit:u,input:c,handleInputChange:m,isGenerating:N,stop:g,append:x,setMessages:b,transcribeAudio:i.K,suggestions:["What is the weather in San Francisco?","Explain step-by-step how to solve this math problem: If x\xb2 + 6x + 9 = 25, what is x?","Design a simple algorithm to find the longest palindrome in a string."]})]})}},2740:(e,a,t)=>{t.r(a),t.d(a,{useAutoScroll:()=>l});var s=t(7577);function l(e){let a=(0,s.useRef)(null),t=(0,s.useRef)(null),[l,n]=(0,s.useState)(!0);return{containerRef:a,scrollToBottom:()=>{a.current&&(a.current.scrollTop=a.current.scrollHeight)},handleScroll:()=>{if(a.current){let{scrollTop:e,scrollHeight:s,clientHeight:l}=a.current,r=!!t.current&&e<t.current,i=t.current?t.current-e:0;r&&i>10?n(!1):n(50>Math.abs(s-e-l)),t.current=e}},shouldAutoScroll:l,handleTouchStart:()=>{n(!1)}}}},8025:(e,a,t)=>{t.r(a),t.d(a,{Chat:()=>h,ChatContainer:()=>g,ChatForm:()=>j,ChatMessages:()=>x});var s=t(326),l=t(7577),n=t(4274),r=t(8610),i=t(2112),o=t(7863),d=t(2740),c=t(1613),m=t(6699),u=t(1142),f=t(1015),p=t(2626);function h({messages:e,handleSubmit:a,input:t,handleInputChange:i,stop:o,isGenerating:d,append:h,suggestions:w,className:y,onRateResponse:N,setMessages:b,transcribeAudio:v}){let C=e.at(-1),S=0===e.length,k=C?.role==="user",R=(0,l.useRef)(e);R.current=e;let _=(0,l.useCallback)(()=>{if(o?.(),!b)return;let e=[...R.current],a=e.findLast(e=>"assistant"===e.role);if(!a)return;let t=!1,s={...a};if(a.toolInvocations){let e=a.toolInvocations.map(e=>"call"===e.state?(t=!0,{...e,state:"result",result:{content:"Tool execution was cancelled",__cancelled:!0}}):e);t&&(s={...s,toolInvocations:e})}if(a.parts&&a.parts.length>0){let e=a.parts.map(e=>"tool-invocation"===e.type&&e.toolInvocation&&"call"===e.toolInvocation.state?(t=!0,{...e,toolInvocation:{...e.toolInvocation,state:"result",result:{content:"Tool execution was cancelled",__cancelled:!0}}}):e);t&&(s={...s,parts:e})}if(t){let t=e.findIndex(e=>e.id===a.id);-1!==t&&(e[t]=s,b(e))}},[o,b,R]),I=(0,l.useCallback)(e=>({actions:N?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"border-r pr-1",children:s.jsx(m.CopyButton,{content:e.content,copyMessage:"Copied response to clipboard!"})}),s.jsx(c.z,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>N(e.id,"thumbs-up"),children:s.jsx(n.Z,{className:"h-4 w-4"})}),s.jsx(c.z,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>N(e.id,"thumbs-down"),children:s.jsx(r.Z,{className:"h-4 w-4"})})]}):s.jsx(m.CopyButton,{content:e.content,copyMessage:"Copied response to clipboard!"})}),[N]);return(0,s.jsxs)(g,{className:y,children:[e.length>0?s.jsx(x,{messages:e,children:s.jsx(f.MessageList,{messages:e,isTyping:k,messageOptions:I})}):null,s.jsx(j,{className:"mt-auto",isPending:d||k,handleSubmit:a,children:({files:e,setFiles:a})=>s.jsx(u.MessageInput,{value:t,onChange:i,allowAttachments:!0,files:e,setFiles:a,stop:_,isGenerating:d,transcribeAudio:v})}),S&&h&&w?s.jsx(p.PromptSuggestions,{label:"Example queries ...",append:h,suggestions:w}):null]})}function x({messages:e,children:a}){let{containerRef:t,scrollToBottom:l,handleScroll:n,shouldAutoScroll:r,handleTouchStart:o}=(0,d.useAutoScroll)([e]);return(0,s.jsxs)("div",{className:"grid grid-cols-1 overflow-y-auto pb-4",ref:t,onScroll:n,onTouchStart:o,children:[s.jsx("div",{className:"max-w-full [grid-column:1/1] [grid-row:1/1]",children:a}),!r&&s.jsx("div",{className:"pointer-events-none flex flex-1 items-end justify-end [grid-column:1/1] [grid-row:1/1]",children:s.jsx("div",{className:"sticky bottom-0 left-0 flex w-full justify-end",children:s.jsx(c.z,{onClick:l,className:"pointer-events-auto h-8 w-8 rounded-full ease-in-out animate-in fade-in-0 slide-in-from-bottom-1",size:"icon",variant:"ghost",children:s.jsx(i.Z,{className:"h-4 w-4"})})})})]})}h.displayName="Chat";let g=(0,l.forwardRef)(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,o.cn)("grid max-h-full w-full grid-rows-[1fr_auto]",e),...a}));g.displayName="ChatContainer";let j=(0,l.forwardRef)(({children:e,handleSubmit:a,isPending:t,className:n},r)=>{let[i,o]=(0,l.useState)(null);return s.jsx("form",{ref:r,onSubmit:e=>{if(!i){a(e);return}a(e,{experimental_attachments:function(e){let a=new DataTransfer;for(let t of Array.from(e))a.items.add(t);return a.files}(i)}),o(null)},className:n,children:e({files:i,setFiles:o})})});j.displayName="ChatForm"},1015:(e,a,t)=>{t.r(a),t.d(a,{MessageList:()=>r});var s=t(326),l=t(1057),n=t(9821);function r({messages:e,showTimeStamps:a=!0,isTyping:t=!1,messageOptions:r}){return(0,s.jsxs)("div",{className:"space-y-4 overflow-visible",children:[e.map((e,t)=>{let n="function"==typeof r?r(e):r;return s.jsx(l.ChatMessage,{showTimeStamp:a,...e,...n},t)}),t&&s.jsx(n.TypingIndicator,{})]})}},2626:(e,a,t)=>{t.r(a),t.d(a,{PromptSuggestions:()=>l});var s=t(326);function l({label:e,append:a,suggestions:t}){return(0,s.jsxs)("div",{className:"space-y-6 pt-20",children:[s.jsx("h2",{className:"text-center text-2xl font-bold",children:e}),s.jsx("div",{className:"flex gap-6 text-sm",children:t.map(e=>s.jsx("button",{onClick:()=>a({role:"user",content:e}),className:"h-max flex-1 rounded-xl border bg-background p-4 hover:bg-muted",children:s.jsx("p",{children:e})},e))})]})}},9821:(e,a,t)=>{t.r(a),t.d(a,{TypingIndicator:()=>n});var s=t(326),l=t(3446);function n(){return s.jsx("div",{className:"justify-left flex space-x-1",children:s.jsx("div",{className:"rounded-lg bg-muted p-3",children:(0,s.jsxs)("div",{className:"flex -space-x-2.5",children:[s.jsx(l.Z,{className:"h-5 w-5 animate-typing-dot-bounce"}),s.jsx(l.Z,{className:"h-5 w-5 animate-typing-dot-bounce [animation-delay:90ms]"}),s.jsx(l.Z,{className:"h-5 w-5 animate-typing-dot-bounce [animation-delay:180ms]"})]})})})}}};