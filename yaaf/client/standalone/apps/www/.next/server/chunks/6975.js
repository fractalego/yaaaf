"use strict";exports.id=6975,exports.ids=[6975,8025,2740,2626],exports.modules={7272:(e,t,a)=>{a.d(t,{K:()=>s});async function s(e){let t=new File([e],"recording.webm",{type:"audio/webm"}),a=new FormData;a.append("audio",t);let s=await fetch("/api/transcribe",{method:"POST",body:a});if(!s.ok)throw Error((await s.json()).error||"Failed to transcribe audio");return(await s.json()).text}},6975:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var s=a(326),l=a(7577),n=a(7874),r=a(7863),i=a(7272),o=a(8025),d=a(8105),c=a(5613),m=a(5258),u=a(5907);let f=d.fC;d.ZA;let p=d.B4,h=l.forwardRef(({className:e,children:t,...a},l)=>(0,s.jsxs)(d.xz,{ref:l,className:(0,r.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[placeholder]:text-muted-foreground [&>span]:line-clamp-1",e),...a,children:[t,s.jsx(d.JO,{asChild:!0,children:s.jsx(c.Z,{className:"h-4 w-4 opacity-50"})})]}));h.displayName=d.xz.displayName;let x=l.forwardRef(({className:e,...t},a)=>s.jsx(d.u_,{ref:a,className:(0,r.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(m.Z,{className:"h-4 w-4"})}));x.displayName=d.u_.displayName;let g=l.forwardRef(({className:e,...t},a)=>s.jsx(d.$G,{ref:a,className:(0,r.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(c.Z,{className:"h-4 w-4"})}));g.displayName=d.$G.displayName;let j=l.forwardRef(({className:e,children:t,position:a="popper",...l},n)=>s.jsx(d.h_,{children:(0,s.jsxs)(d.VY,{ref:n,className:(0,r.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...l,children:[s.jsx(x,{}),s.jsx(d.l_,{className:(0,r.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(g,{})]})}));j.displayName=d.VY.displayName,l.forwardRef(({className:e,...t},a)=>s.jsx(d.__,{ref:a,className:(0,r.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=d.__.displayName;let w=l.forwardRef(({className:e,children:t,...a},l)=>(0,s.jsxs)(d.ck,{ref:l,className:(0,r.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(d.wU,{children:s.jsx(u.Z,{className:"h-4 w-4"})})}),s.jsx(d.eT,{children:t})]}));w.displayName=d.ck.displayName,l.forwardRef(({className:e,...t},a)=>s.jsx(d.Z0,{ref:a,className:(0,r.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=d.Z0.displayName;let y=[{id:"llama-3.3-70b-versatile",name:"Llama 3.3 70B"},{id:"deepseek-r1-distill-llama-70b",name:"Deepseek R1 70B"}];function N(e){let[t,a]=(0,l.useState)(y[0].id),{messages:d,input:c,handleInputChange:m,handleSubmit:u,append:x,stop:g,isLoading:N,setMessages:b}=(0,n.RJ)({...e,api:"/api/chat",body:{model:t}});return(0,s.jsxs)("div",{className:(0,r.cn)("flex","flex-col","h-full m-10","w-full"),children:[s.jsx("div",{className:(0,r.cn)("flex","justify-end","mb-2"),children:(0,s.jsxs)(f,{value:t,onValueChange:a,children:[s.jsx(h,{className:"w-[180px]",children:s.jsx(p,{placeholder:"Select Model"})}),s.jsx(j,{children:y.map(e=>s.jsx(w,{value:e.id,children:e.name},e.id))})]})}),s.jsx(o.Chat,{className:"grow",messages:d,handleSubmit:u,input:c,handleInputChange:m,isGenerating:N,stop:g,append:x,setMessages:b,transcribeAudio:i.K,suggestions:["What is the weather in San Francisco?","Explain step-by-step how to solve this math problem: If x\xb2 + 6x + 9 = 25, what is x?","Design a simple algorithm to find the longest palindrome in a string."]})]})}},2740:(e,t,a)=>{a.r(t),a.d(t,{useAutoScroll:()=>l});var s=a(7577);function l(e){let t=(0,s.useRef)(null),a=(0,s.useRef)(null),[l,n]=(0,s.useState)(!0);return{containerRef:t,scrollToBottom:()=>{t.current&&(t.current.scrollTop=t.current.scrollHeight)},handleScroll:()=>{if(t.current){let{scrollTop:e,scrollHeight:s,clientHeight:l}=t.current,r=!!a.current&&e<a.current,i=a.current?a.current-e:0;r&&i>10?n(!1):n(50>Math.abs(s-e-l)),a.current=e}},shouldAutoScroll:l,handleTouchStart:()=>{n(!1)}}}},8025:(e,t,a)=>{a.r(t),a.d(t,{Chat:()=>h,ChatContainer:()=>g,ChatForm:()=>j,ChatMessages:()=>x});var s=a(326),l=a(7577),n=a(4274),r=a(8610),i=a(2112),o=a(7863),d=a(2740),c=a(1613),m=a(6699),u=a(1142),f=a(1015),p=a(2626);function h({messages:e,handleSubmit:t,input:a,handleInputChange:i,stop:o,isGenerating:d,append:h,suggestions:w,className:y,onRateResponse:N,setMessages:b,transcribeAudio:v}){let C=e.at(-1),S=0===e.length,k=C?.role==="user",R=(0,l.useRef)(e);R.current=e;let T=(0,l.useCallback)(()=>{if(o?.(),!b)return;let e=[...R.current],t=e.findLast(e=>"assistant"===e.role);if(!t)return;let a=!1,s={...t};if(t.toolInvocations){let e=t.toolInvocations.map(e=>"call"===e.state?(a=!0,{...e,state:"result",result:{content:"Tool execution was cancelled",__cancelled:!0}}):e);a&&(s={...s,toolInvocations:e})}if(t.parts&&t.parts.length>0){let e=t.parts.map(e=>"tool-invocation"===e.type&&e.toolInvocation&&"call"===e.toolInvocation.state?(a=!0,{...e,toolInvocation:{...e.toolInvocation,state:"result",result:{content:"Tool execution was cancelled",__cancelled:!0}}}):e);a&&(s={...s,parts:e})}if(a){let a=e.findIndex(e=>e.id===t.id);-1!==a&&(e[a]=s,b(e))}},[o,b,R]),_=(0,l.useCallback)(e=>({actions:N?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"border-r pr-1",children:s.jsx(m.CopyButton,{content:e.content,copyMessage:"Copied response to clipboard!"})}),s.jsx(c.z,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>N(e.id,"thumbs-up"),children:s.jsx(n.Z,{className:"h-4 w-4"})}),s.jsx(c.z,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>N(e.id,"thumbs-down"),children:s.jsx(r.Z,{className:"h-4 w-4"})})]}):s.jsx(m.CopyButton,{content:e.content,copyMessage:"Copied response to clipboard!"})}),[N]);return(0,s.jsxs)(g,{className:y,children:[S&&h&&w?s.jsx(p.PromptSuggestions,{label:"Try these prompts âœ¨",append:h,suggestions:w}):null,e.length>0?s.jsx(x,{messages:e,children:s.jsx(f.MessageList,{messages:e,isTyping:k,messageOptions:_})}):null,s.jsx(j,{className:"mt-auto",isPending:d||k,handleSubmit:t,children:({files:e,setFiles:t})=>s.jsx(u.MessageInput,{value:a,onChange:i,allowAttachments:!0,files:e,setFiles:t,stop:T,isGenerating:d,transcribeAudio:v})})]})}function x({messages:e,children:t}){let{containerRef:a,scrollToBottom:l,handleScroll:n,shouldAutoScroll:r,handleTouchStart:o}=(0,d.useAutoScroll)([e]);return(0,s.jsxs)("div",{className:"grid grid-cols-1 overflow-y-auto pb-4",ref:a,onScroll:n,onTouchStart:o,children:[s.jsx("div",{className:"max-w-full [grid-column:1/1] [grid-row:1/1]",children:t}),!r&&s.jsx("div",{className:"pointer-events-none flex flex-1 items-end justify-end [grid-column:1/1] [grid-row:1/1]",children:s.jsx("div",{className:"sticky bottom-0 left-0 flex w-full justify-end",children:s.jsx(c.z,{onClick:l,className:"pointer-events-auto h-8 w-8 rounded-full ease-in-out animate-in fade-in-0 slide-in-from-bottom-1",size:"icon",variant:"ghost",children:s.jsx(i.Z,{className:"h-4 w-4"})})})})]})}h.displayName="Chat";let g=(0,l.forwardRef)(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,o.cn)("grid max-h-full w-full grid-rows-[1fr_auto]",e),...t}));g.displayName="ChatContainer";let j=(0,l.forwardRef)(({children:e,handleSubmit:t,isPending:a,className:n},r)=>{let[i,o]=(0,l.useState)(null);return s.jsx("form",{ref:r,onSubmit:e=>{if(!i){t(e);return}t(e,{experimental_attachments:function(e){let t=new DataTransfer;for(let a of Array.from(e))t.items.add(a);return t.files}(i)}),o(null)},className:n,children:e({files:i,setFiles:o})})});j.displayName="ChatForm"},1015:(e,t,a)=>{a.r(t),a.d(t,{MessageList:()=>r});var s=a(326),l=a(500),n=a(9821);function r({messages:e,showTimeStamps:t=!0,isTyping:a=!1,messageOptions:r}){return(0,s.jsxs)("div",{className:"space-y-4 overflow-visible",children:[e.map((e,a)=>{let n="function"==typeof r?r(e):r;return s.jsx(l.ChatMessage,{showTimeStamp:t,...e,...n},a)}),a&&s.jsx(n.TypingIndicator,{})]})}},2626:(e,t,a)=>{a.r(t),a.d(t,{PromptSuggestions:()=>l});var s=a(326);function l({label:e,append:t,suggestions:a}){return(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-center text-2xl font-bold",children:e}),s.jsx("div",{className:"flex gap-6 text-sm",children:a.map(e=>s.jsx("button",{onClick:()=>t({role:"user",content:e}),className:"h-max flex-1 rounded-xl border bg-background p-4 hover:bg-muted",children:s.jsx("p",{children:e})},e))})]})}},9821:(e,t,a)=>{a.r(t),a.d(t,{TypingIndicator:()=>n});var s=a(326),l=a(3446);function n(){return s.jsx("div",{className:"justify-left flex space-x-1",children:s.jsx("div",{className:"rounded-lg bg-muted p-3",children:(0,s.jsxs)("div",{className:"flex -space-x-2.5",children:[s.jsx(l.Z,{className:"h-5 w-5 animate-typing-dot-bounce"}),s.jsx(l.Z,{className:"h-5 w-5 animate-typing-dot-bounce [animation-delay:90ms]"}),s.jsx(l.Z,{className:"h-5 w-5 animate-typing-dot-bounce [animation-delay:180ms]"})]})})})}}};